{% extends "admin/change_list.html" %}

{% block content %}
<h2>All Plots Map</h2>
<div id="map" style="height: 500px; margin-bottom: 20px;"></div>

<script type="text/javascript">
    const map = L.map('map').setView([51.3397, 12.3747], 12); // Centered on Leipzig
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Load GeoJSON data for all plots
    const plots = {{ plots_geojson|safe }};
    L.geoJSON(plots).addTo(map);
</script>

{{ block.super }}
{% endblock %}
